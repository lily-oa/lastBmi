{"version":3,"sources":["all.js"],"names":["height","document","querySelector","weight","calculate","records","deleteAll","assessResult","contentLen","data","JSON","parse","localStorage","getItem","totalPages","Math","ceil","length","page","addEventListener","calculateBMI","heightAlert","weightAlert","textContent","value","cm","parseFloat","toFixed","m","kg","BMI","assessment","color","time","Date","year","getFullYear","month","getMonth","date","getDate","today","BMIobject","borderColor","assess","bmi","currentDate","style","push","updateRecords","changeButton","display","setItem","stringify","num1","str","len","content","paddingBottom","num2","num3","i"],"mappings":";;AAAA;AACA,IAAIA,MAAM,GAAGC,QAAQ,CAACC,aAAT,CAAuB,SAAvB,CAAb;AACA,IAAIC,MAAM,GAAGF,QAAQ,CAACC,aAAT,CAAuB,SAAvB,CAAb;AACA,IAAIE,SAAS,GAAGH,QAAQ,CAACC,aAAT,CAAuB,YAAvB,CAAhB;AACA,IAAIG,OAAO,GAAGJ,QAAQ,CAACC,aAAT,CAAuB,UAAvB,CAAd,C,CAAkD;;AAClD,IAAII,SAAS,GAAGL,QAAQ,CAACC,aAAT,CAAuB,YAAvB,CAAhB;AACA,IAAIK,YAAY,GAAGN,QAAQ,CAACC,aAAT,CAAuB,eAAvB,CAAnB,C,CAA4D;;AAC5D,IAAMM,UAAU,GAAG,CAAnB,C,CAAsB;;AACtB,IAAIC,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAX,KAAiD,EAA5D,C,CAEA;;AACA,IAAIC,UAAU,GAAGC,IAAI,CAACC,IAAL,CAAUP,IAAI,CAACQ,MAAL,GAAYT,UAAtB,CAAjB,C,CAAoD;;AACpD,IAAIU,IAAI,GAAGjB,QAAQ,CAACC,aAAT,CAAuB,OAAvB,CAAX,C,CAA4C;AAE5C;;AACAE,SAAS,CAACe,gBAAV,CAA2B,OAA3B,EAAoCC,YAApC,E,CACA;AACA;AACA;AAEA;AACA;AACA;AAEA;;AACA,SAASA,YAAT,GAAuB;AACrB,MAAIC,WAAW,GAAGpB,QAAQ,CAACC,aAAT,CAAuB,cAAvB,CAAlB;AACA,MAAIoB,WAAW,GAAGrB,QAAQ,CAACC,aAAT,CAAuB,cAAvB,CAAlB,CAFqB,CAIvB;;AACEmB,EAAAA,WAAW,CAACE,WAAZ,GAA0B,EAA1B;AACAD,EAAAA,WAAW,CAACC,WAAZ,GAA0B,EAA1B;;AACA,UAAO,IAAP;AACE,SAAKvB,MAAM,CAACwB,KAAP,GAAe,CAApB;AACEH,MAAAA,WAAW,CAACE,WAAZ,GAA0B,SAA1B;AACA;;AAEF,SAAKpB,MAAM,CAACqB,KAAP,GAAe,CAApB;AACEF,MAAAA,WAAW,CAACC,WAAZ,GAA0B,SAA1B;AACA;;AAEF,SAAKvB,MAAM,CAACwB,KAAP,KAAiB,EAAjB,IAAuBrB,MAAM,CAACqB,KAAP,KAAiB,EAA7C;AACEH,MAAAA,WAAW,CAACE,WAAZ,GAA0B,aAA1B;AACA;;AAEF,SAAKpB,MAAM,CAACqB,KAAP,KAAiB,EAAjB,IAAuBxB,MAAM,CAACwB,KAAP,KAAiB,EAA7C;AACEF,MAAAA,WAAW,CAACC,WAAZ,GAA0B,aAA1B;AACA;;AAEF,SAAKvB,MAAM,CAACwB,KAAP,IAAgB,EAAhB,IAAsBrB,MAAM,CAACqB,KAAP,IAAgB,EAA3C;AACEH,MAAAA,WAAW,CAACE,WAAZ,GAA0B,aAA1B;AACAD,MAAAA,WAAW,CAACC,WAAZ,GAA0B,aAA1B;AACA;AApBJ,GAPqB,CA8BrB;;;AACA,MAAIE,EAAE,GAAGC,UAAU,CAAC1B,MAAM,CAACwB,KAAR,CAAV,CAAyBG,OAAzB,CAAiC,CAAjC,CAAT,CA/BqB,CA+ByB;;AAC9C,MAAIC,CAAC,GAAGF,UAAU,CAAC,CAACD,EAAE,GAAC,GAAJ,EAASE,OAAT,CAAiB,CAAjB,CAAD,CAAlB,CAhCqB,CAgCyB;;AAC9C,MAAIE,EAAE,GAAGH,UAAU,CAACvB,MAAM,CAACqB,KAAR,CAAnB;AACA,MAAIM,GAAG,GAAGJ,UAAU,CAAC,CAACG,EAAE,IAAED,CAAC,GAACA,CAAJ,CAAH,EAAWD,OAAX,CAAmB,CAAnB,CAAD,CAApB,CAlCqB,CAkCyB;;AAC9C,MAAII,UAAU,GAAG,EAAjB,CAnCqB,CAmCA;;AACrB,MAAIC,KAAK,GAAG,EAAZ;AACA,MAAIC,IAAI,GAAG,IAAIC,IAAJ,EAAX;AACA,MAAIC,IAAI,GAAGF,IAAI,CAACG,WAAL,EAAX;AACA,MAAIC,KAAK,GAAGJ,IAAI,CAACK,QAAL,KAAgB,CAA5B;AACA,MAAIC,IAAI,GAAGN,IAAI,CAACO,OAAL,EAAX;AACA,MAAIC,KAAK,GAAGJ,KAAK,GAAC,GAAN,GAAUE,IAAV,GAAe,GAAf,GAAmBJ,IAA/B,CAzCqB,CA2CvB;;AACE,UAAO,IAAP;AACE,SAAKL,GAAG,GAAC,IAAT;AACEC,MAAAA,UAAU,GAAG,IAAb;AACAC,MAAAA,KAAK,GAAG,SAAR;AACA;;AAEF,SAAKF,GAAG,IAAE,IAAL,IAAaA,GAAG,GAAC,EAAtB;AACEC,MAAAA,UAAU,GAAG,IAAb;AACAC,MAAAA,KAAK,GAAG,SAAR;AACA;;AAEF,SAAKF,GAAG,IAAE,EAAL,IAAWA,GAAG,GAAC,EAApB;AACEC,MAAAA,UAAU,GAAG,MAAb;AACAC,MAAAA,KAAK,GAAG,SAAR;AACA;;AAEF,SAAKF,GAAG,IAAE,EAAL,IAAWA,GAAG,GAAC,EAApB;AACEC,MAAAA,UAAU,GAAG,IAAb;AACAC,MAAAA,KAAK,GAAG,SAAR;AACA;;AAEF,SAAKF,GAAG,IAAE,EAAL,IAAWA,GAAG,GAAC,EAApB;AACEC,MAAAA,UAAU,GAAG,MAAb;AACAC,MAAAA,KAAK,GAAG,SAAR;AACA;;AAEF,SAAKF,GAAG,IAAE,EAAV;AACEC,MAAAA,UAAU,GAAG,MAAb;AACAC,MAAAA,KAAK,GAAG,SAAR;AACA;AA7BJ,GA5CqB,CA4EvB;;;AACA,MAAIU,SAAS,GAAG;AACZC,IAAAA,WAAW,EAAEX,KADD;AAEZY,IAAAA,MAAM,EAAEb,UAFI;AAGZc,IAAAA,GAAG,EAAEf,GAHO;AAIZ3B,IAAAA,MAAM,EAAE0B,EAJI;AAKZ7B,IAAAA,MAAM,EAAEyB,EALI;AAMZqB,IAAAA,WAAW,EAAEL;AAND,GAAhB;AAQElC,EAAAA,YAAY,CAACgB,WAAb,GAA2BmB,SAAS,CAACE,MAArC;AACArC,EAAAA,YAAY,CAACwC,KAAb,CAAmBf,KAAnB,GAA2BU,SAAS,CAACC,WAArC;AACAlC,EAAAA,IAAI,CAACuC,IAAL,CAAUN,SAAV,EAvFqB,CAyFvB;;AACE5B,EAAAA,UAAU,GAAGC,IAAI,CAACC,IAAL,CAAUP,IAAI,CAACQ,MAAL,GAAYT,UAAtB,CAAb;AACAyC,EAAAA,aAAa,CAACxC,IAAD,EAAOK,UAAP,CAAb;AACAoC,EAAAA,YAAY,CAACR,SAAD,CAAZ,CA5FqB,CA6FvB;;AACAtC,EAAAA,SAAS,CAAC2C,KAAV,CAAgBI,OAAhB,GAA0B,MAA1B,CA9FuB,CA+FvB;;AACAvC,EAAAA,YAAY,CAACwC,OAAb,CAAqB,WAArB,EAAiC1C,IAAI,CAAC2C,SAAL,CAAe5C,IAAf,CAAjC;AACC,C,CAED;;;AACA,SAASwC,aAAT,CAAuBxC,IAAvB,EAA6B6C,IAA7B,EAAkC;AAClC;AACE,MAAGA,IAAI,IAAE,CAAT,EAAW;AACT7C,IAAAA,IAAI,GAAG,EAAP;AACAG,IAAAA,YAAY,CAACwC,OAAb,CAAqB,WAArB,EAAkC1C,IAAI,CAAC2C,SAAL,CAAe5C,IAAf,CAAlC;AACAwC,IAAAA,aAAa,CAACxC,IAAD,CAAb;AACA;AACD,GAP+B,CASlC;;;AACE,MAAI8C,GAAG,GAAG,EAAV;AACA,MAAIC,GAAG,GAAG/C,IAAI,CAACQ,MAAf;AACA,MAAIwC,OAAO,GAAGxD,QAAQ,CAACC,aAAT,CAAuB,UAAvB,CAAd;;AACA,MAAGsD,GAAG,GAAC,CAAP,EAAS;AACPlD,IAAAA,SAAS,CAACyC,KAAV,CAAgBI,OAAhB,GAA0B,OAA1B;AACAM,IAAAA,OAAO,CAACV,KAAR,CAAcW,aAAd,GAA8B,OAA9B,CAFO,CAEiC;AACzC,GAHD,MAGK;AACHpD,IAAAA,SAAS,CAACyC,KAAV,CAAgBI,OAAhB,GAA0B,MAA1B;AACAM,IAAAA,OAAO,CAACV,KAAR,CAAcW,aAAd,GAA8B,MAA9B;AACD,GAnB+B,CAqBlC;;;AACE,MAAIC,IAAI,GAAG,CAACL,IAAI,GAAC,CAAN,IAAS9C,UAApB;AACA,MAAIoD,IAAI,GAAGN,IAAI,GAAC9C,UAAhB,CAvBgC,CAwBlC;;AACA,MAAGoD,IAAI,GAACnD,IAAI,CAACQ,MAAb,EAAoB;AAClB2C,IAAAA,IAAI,GAAGnD,IAAI,CAACQ,MAAZ;AACC,GA3B+B,CA4BlC;;;AACE,OAAI,IAAI4C,CAAC,GAACF,IAAV,EAAgBE,CAAC,GAACD,IAAlB,EAAwBC,CAAC,EAAzB,EAA4B;AAC1BN,IAAAA,GAAG,sCACgBM,CADhB,8CACmDpD,IAAI,CAACoD,CAAD,CAAJ,CAAQlB,WAD3D,6BAEKlC,IAAI,CAACoD,CAAD,CAAJ,CAAQjB,MAFb,oEAIenC,IAAI,CAACoD,CAAD,CAAJ,CAAQhB,GAJvB,iDAKkBpC,IAAI,CAACoD,CAAD,CAAJ,CAAQ1D,MAL1B,mDAMkBM,IAAI,CAACoD,CAAD,CAAJ,CAAQ7D,MAN1B,uCAOMS,IAAI,CAACoD,CAAD,CAAJ,CAAQf,WAPd,uDAAH;AAYD;AACF","file":"all.js","sourcesContent":["//宣告變數 \nlet height = document.querySelector('.height');\nlet weight = document.querySelector('.weight');\nlet calculate = document.querySelector('.calculate');\nlet records = document.querySelector('.records'); //記錄區塊ul\nlet deleteAll = document.querySelector('.deleteAll');\nlet assessResult = document.querySelector('.assessResult'); //評詁結果文字\nconst contentLen = 5; //每頁最多5筆資料，不可變動\nlet data = JSON.parse(localStorage.getItem('bodyIndex')) || [];\n\n//-------------- 關於頁數的設定 ------------------------------------------------\nlet totalPages = Math.ceil(data.length/contentLen); //取整數回傳回來(向上捨入)\nlet page = document.querySelector('.page'); //頁數的ul\n\n// 設定監聽事件\ncalculate.addEventListener('click', calculateBMI);\n// records.addEventListener('click', deleteRecords);\n// deleteAll.addEventListener('click', deleteAllRecords);\n// page.addEventListener('click', switchPage);  //切換頁面\n\n//網頁載入後預先執行第一頁內容\n// updateRecords(data, 1);\n// pageColor(1);\n\n//點擊計算按鈕觸發\nfunction calculateBMI(){\n  let heightAlert = document.querySelector('.heightAlert');\n  let weightAlert = document.querySelector('.weightAlert');\n\n//先判斷內容是否為空或負數\n  heightAlert.textContent = '';\n  weightAlert.textContent = '';\n  switch(true){\n    case height.value < 0 :\n      heightAlert.textContent = '數字不可為負數';\n      return;\n\n    case weight.value < 0:\n      weightAlert.textContent = '數字不可為負數';\n      return;\n      \n    case height.value === '' && weight.value !== '':\n      heightAlert.textContent = '請填上你的身高(cm)';\n      return;\n\n    case weight.value === '' && height.value !== '':\n      weightAlert.textContent = '請填上你的體重(kg)';\n      return;\n\n    case height.value == '' && weight.value == '':\n      heightAlert.textContent = '請填上你的身高(cm)';\n      weightAlert.textContent = '請填上你的體重(kg)';\n      return;\n  }\n  \n  //BMI值計算公式: BMI = 體重(公斤) / 身高2(公尺2)\n  let cm = parseFloat(height.value).toFixed(1); //取到小數第一位\n  let m = parseFloat((cm/100).toFixed(2));      //取到小數第二位，身高為公尺(m)\n  let kg = parseFloat(weight.value);\n  let BMI = parseFloat((kg/(m*m)).toFixed(1));  //取到小數第一位\n  let assessment = ''; //評估文字\n  let color = '';\n  let time = new Date();\n  let year = time.getFullYear();\n  let month = time.getMonth()+1;\n  let date = time.getDate();\n  let today = month+'-'+date+'-'+year;\n\n//判斷BMI以及對應顏色\n  switch(true){\n    case BMI<18.5:\n      assessment = '過輕';\n      color = '#31BAf9';\n      break;\n\n    case BMI>=18.5 && BMI<24:\n      assessment = '正常';\n      color = '#86D73f';\n      break;\n\n    case BMI>=24 && BMI<27:\n      assessment = '輕度過重';\n      color = '#ff982d';\n      break;\n\n    case BMI>=27 && BMI<30:\n      assessment = '過重';\n      color = '#ff6c03';\n      break;\n\n    case BMI>=30 && BMI<35:\n      assessment = '中度肥胖';\n      color = '#ff5f03';\n      break;\n\n    case BMI>=35:\n      assessment = '重度肥胖';\n      color = '#ff1200';\n      break;\n  }\n\n// 將資料寫入新的陣列並將推入Data物件中\nlet BMIobject = {\n    borderColor: color,\n    assess: assessment,\n    bmi: BMI,\n    weight: kg,\n    height: cm,\n    currentDate: today\n  };\n  assessResult.textContent = BMIobject.assess;\n  assessResult.style.color = BMIobject.borderColor;\n  data.push(BMIobject);\n\n// 帶入總頁數是希望不管用戶目前在第幾頁，只要新增新的資料就會跳至最後一頁方便看新的記錄\n  totalPages = Math.ceil(data.length/contentLen);\n  updateRecords(data, totalPages);\n  changeButton(BMIobject);\n//隱藏計算機按鈕\ncalculate.style.display = 'none';\n//更新LocalStorage的資料，轉為字串存入localStorage\nlocalStorage.setItem('bodyIndex',JSON.stringify(data)); \n}\n\n// 將資料渲染在內容上\nfunction updateRecords(data, num1){\n// 若是最大頁數為0，沒有資料，則清空物件以及內容。以防止剩最後一筆資料時按刪除鈕產生的錯誤\n  if(num1==0){\n    data = [];\n    localStorage.setItem('bodyIndex', JSON.stringify(data));\n    updateRecords(data);\n    return;\n  }\n\n// 當有兩筆資料以上時，才會顯示出刪除全部紀錄的選項\n  let str = '';\n  let len = data.length;\n  let content = document.querySelector('.content');\n  if(len>1){\n    deleteAll.style.display = 'block';\n    content.style.paddingBottom = 'unset';  //找不到 paddingBottom，不明白為何這樣寫!\n  }else{\n    deleteAll.style.display = 'none';\n    content.style.paddingBottom = \"30px\"; \n  }\n\n// 分頁邏輯，num2為抓取起始點，num3為結束點\n  let num2 = (num1-1)*contentLen;\n  let num3 = num1*contentLen;\n// num3不可超過資料總數\nif(num3>data.length){\n  num3 = data.length;\n  }\n// 資料渲染  \n  for(let i=num2; i<num3; i++){\n    str +=`\n    <li data-number=\"${i}\" style=\"border-left:7px solid ${data[i].borderColor};\">\n      <h3>${data[i].assess}</h3>\n      <div class=\"data\">\n        <p>BMI<span>${data[i].bmi}</span></p>\n        <p>weight<span>${data[i].weight}Kg</span></p>\n        <p>height<span>${data[i].height}Cm</span></p>\n        <p>${data[i].currentDate}</p>\n      </div>\n      <a></a>\n    </li>\n    `\n  }\n}"]}